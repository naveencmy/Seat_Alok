# ğŸ¨ System Architecture & Visual Overview
# Exam Relation Has been in this format will have:
Exam
 â”œâ”€â”€ Exam_Sessions (CAT / EndSem)
 â”‚    â”œâ”€â”€ Subjects
 â”‚    â”‚    â”œâ”€â”€ Departments
 â”‚    â”‚    â”‚    â”œâ”€â”€ Students
 â”‚
Halls
 â””â”€â”€ Seats
      â””â”€â”€ Seat_Allocations (per exam session)


## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER (Admin)                            â”‚
â”‚                     Web Browser                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (React + TypeScript)                â”‚
â”‚                      http://localhost:3000                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pages:                                                         â”‚
â”‚  â€¢ Login          â€¢ Dashboard      â€¢ Exams                      â”‚
â”‚  â€¢ Subjects       â€¢ Halls          â€¢ Departments                â”‚
â”‚  â€¢ Students       â€¢ Allocation     â€¢ Seating                    â”‚
â”‚                                                                 â”‚
â”‚  Services:                                                      â”‚
â”‚  â€¢ API Client (Axios)                                           â”‚
â”‚  â€¢ JWT Token Management                                         â”‚
â”‚  â€¢ React Router                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP/HTTPS
                             â”‚ REST API Calls
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKEND (Express.js + TypeScript)              â”‚
â”‚                      http://localhost:5000                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Middleware:                                                    â”‚
â”‚  â€¢ JWT Authentication                                           â”‚
â”‚  â€¢ CORS                                                         â”‚
â”‚  â€¢ Body Parser                                                  â”‚
â”‚  â€¢ Multer (File Upload)                                         â”‚
â”‚                                                                 â”‚
â”‚  Routes/Controllers:                                            â”‚
â”‚  â€¢ /api/auth          - Login & Register                        â”‚
â”‚  â€¢ /api/exams         - Exam CRUD                               â”‚
â”‚  â€¢ /api/subjects      - Subject CRUD                            â”‚
â”‚  â€¢ /api/halls         - Hall CRUD                               â”‚
â”‚  â€¢ /api/departments   - Department CRUD                         â”‚
â”‚  â€¢ /api/students      - Student Upload & Management             â”‚
â”‚  â€¢ /api/allocation    - Automatic Seating Algorithm             â”‚
â”‚  â€¢ /api/seating       - Seating Display & Lookup                â”‚
â”‚  â€¢ /api/export        - Excel & PDF Export                      â”‚
â”‚                                                                 â”‚
â”‚  Services:                                                      â”‚
â”‚  â€¢ Allocation Engine  - Core Algorithm                          â”‚
â”‚  â€¢ File Parser        - CSV/Excel Processing                    â”‚
â”‚  â€¢ Export Generator   - Excel/PDF Creation                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ SQL Queries
                             â”‚ (pg driver)
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATABASE (PostgreSQL)                         â”‚
â”‚                         exam_seat_db                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tables:                                                        â”‚
â”‚  â€¢ admins             - Admin users                             â”‚
â”‚  â€¢ departments        - Academic departments                    â”‚
â”‚  â€¢ exams              - Exam information                        â”‚
â”‚  â€¢ subjects           - Subject details                         â”‚
â”‚  â€¢ halls              - Exam halls                              â”‚
â”‚  â€¢ students           - Student records                         â”‚
â”‚  â€¢ seat_allocations   - Seat assignments                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagrams

### 1. Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚User  â”‚â”€Loginâ”€â”€â–¶â”‚Frontend  â”‚â”€POSTâ”€â”€â”€â”€â–¶â”‚Backend  â”‚â”€Queryâ”€â”€â–¶  â”‚Database   â”‚
â”‚      â”‚         â”‚(React)   â”‚         â”‚(Express)â”‚              â”‚(Postgres) â”‚
â”‚      â”‚â—€â”€Tokenâ”€â”€â”‚          â”‚â—€â”€JWTâ”€â”€â”€â”€â”‚         â”‚â—€â”€Userâ”€â”€â”€    â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ Store Token
                      â”‚ in localStorage
                      â–¼
              All API Requests
              include Bearer Token
```

### 2. Student Upload Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Admin â”‚â”€Uploadâ”€â”€â–¶ â”‚Frontend  â”‚â”€POSTâ”€â”€â”€â”€â–¶â”‚Backend   â”‚         â”‚Database  â”‚
â”‚      â”‚ CSV/Excel â”‚          â”‚ File    â”‚            â”‚         â”‚          â”‚
â”‚      â”‚           â”‚          â”‚         â”‚            â”‚         â”‚          â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ Parse File            â”‚    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ â€¢ Read rows           â”‚    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ â€¢ Validate data       â”‚    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚            â”‚                    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ Process Each Row      â”‚    â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ â€¢ Check department    â”‚â—€â”€â”€â”€â”¤
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ â€¢ Create if missing   â”‚â”€â”€â”€â–¶â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ â€¢ Validate subject    â”‚â—€â”€â”€â”€â”¤
â”‚      â”‚           â”‚          â”‚         â”‚    â”‚ â€¢ Upsert student      â”‚â”€â”€â”€â–¶â”‚
â”‚      â”‚           â”‚          â”‚         â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚      â”‚           â”‚          â”‚         â”‚            â”‚                     â”‚
â”‚      â”‚â—€â”€Result â”€â”‚          â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       |
â”‚      â”‚ Success   â”‚          â”‚ Report  â”‚                                  â”‚
â”‚      â”‚ Count     |          â”‚         â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Seat Allocation Algorithm Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Admin â”‚â”€Generateâ–¶â”‚Frontend  â”‚â”€POSTâ”€â”€â”€â”€â–¶â”‚Backend  â”‚â”€Queryâ”€â”€â–¶â”‚Database  â”‚
â”‚      â”‚Allocationâ”‚          â”‚ exam_id â”‚         â”‚ Halls   â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚â”€Queryâ”€â”€â–¶â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚ Studentsâ”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚         â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ALLOCATION ENGINEâ”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚                 â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ FOR each hall   â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚   in order:     â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚                 â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚   FOR seat 1 to â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚   capacity:     â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚                 â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚     Assign next â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚     student     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚                 â”‚ INSERT   â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚     Create      â”‚ allocationâ”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚     record      â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚                 â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚   END FOR       â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ END FOR         â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚                    â”‚
â”‚      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚      â”‚ Result  â”‚ Display  â”‚ Stats   â”‚ Return counts                â”‚
â”‚      â”‚         â”‚ Stats    â”‚         â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Seating Display Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚User  â”‚â”€Selectâ”€â”€â–¶â”‚Frontend  â”‚â”€GETâ”€â”€â”€â”€â”€â–¶â”‚Backend  â”‚â”€Queryâ”€â”€â–¶â”‚Database  â”‚
â”‚      â”‚ Hall +   â”‚          â”‚ hall_id â”‚         â”‚ JOIN    â”‚          â”‚
â”‚      â”‚ Exam     â”‚          â”‚ exam_id â”‚         â”‚ studentsâ”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚ halls   â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚ subjectsâ”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
â”‚      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚      â”‚ Display â”‚ Table    â”‚ JSON    â”‚ Formatted                    â”‚
â”‚      â”‚ Seating â”‚          â”‚         â”‚ Data                        â”‚
â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. Export Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Admin â”‚â”€Exportâ”€â”€â–¶â”‚Frontend  â”‚â”€GETâ”€â”€â”€â”€â”€â–¶â”‚Backend  â”‚â”€Queryâ”€â”€â–¶â”‚Database  â”‚
â”‚      â”‚ Excel/PDFâ”‚          â”‚ exam_id â”‚         â”‚ All     â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚ allocationâ”‚         â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚         â”‚         â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ EXCEL GENERATOR â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚  (ExcelJS)      â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Create workbookâ”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Add headers   â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Add data rows â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Apply styling â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚    OR     â”‚                  â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ PDF GENERATOR   â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚  (PDFKit)       â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Create doc    â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Add title     â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Group by hall â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â”‚ â€¢ Add tables    â”‚          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚      â”‚         â”‚          â”‚         â”‚           â”‚                  â”‚
â”‚      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚      â”‚Download â”‚Download  â”‚File     â”‚Stream                       â”‚
â”‚      â”‚ File    â”‚          â”‚Stream   â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Database Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   admins     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)      â”‚
â”‚ username     â”‚
â”‚ password     â”‚
â”‚ created_at   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ departments  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)      â”‚
â”‚ name         â”‚
â”‚ code         â”‚
â”‚ created_at   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:N
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  students    â”‚    N:1  â”‚   subjects   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â—€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)      â”‚         â”‚ id (PK)      â”‚
â”‚ roll_no      â”‚         â”‚ subject_code â”‚
â”‚ student_name â”‚         â”‚ subject_name â”‚
â”‚ department_idâ”‚         â”‚ credits      â”‚
â”‚ subject_code â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ exam_id (FK) â”‚
â”‚ created_at   â”‚         â”‚ created_at   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚
       â”‚ 1:N                    â”‚ N:1
       â”‚                        â”‚
       â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚seat_allocatiâ”‚    N:1  â”‚    exams     â”‚
â”‚ons          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚ id (PK)      â”‚
â”‚ id (PK)      â”‚         â”‚ name         â”‚
â”‚ student_id   â”‚â”€â”       â”‚ exam_date    â”‚
â”‚ hall_id      â”‚ â”‚       â”‚ created_at   â”‚
â”‚ seat_number  â”‚ â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ exam_id (FK) â”‚â”€â”˜
â”‚ allocated_at â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ N:1
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    halls     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)      â”‚
â”‚ hall_number  â”‚
â”‚ seat_capacityâ”‚
â”‚ hall_order   â”‚
â”‚ created_at   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
PK  = Primary Key
FK  = Foreign Key
1:N = One-to-Many
N:1 = Many-to-One
```

## Component Hierarchy (Frontend)

```
App (Router + Auth)
â”‚
â”œâ”€â”€ Login Page
â”‚   â””â”€â”€ Login Form
â”‚
â”œâ”€â”€ Navbar (on all authenticated pages)
â”‚   â”œâ”€â”€ Navigation Links
â”‚   â””â”€â”€ Logout Button
â”‚
â”œâ”€â”€ Dashboard
â”‚   â”œâ”€â”€ Statistics Cards
â”‚   â”‚   â”œâ”€â”€ Total Exams
â”‚   â”‚   â”œâ”€â”€ Total Students
â”‚   â”‚   â””â”€â”€ Total Halls
â”‚   â””â”€â”€ Quick Action Buttons
â”‚
â”œâ”€â”€ Exams Page
â”‚   â”œâ”€â”€ Add Exam Form
â”‚   â””â”€â”€ Exams Table
â”‚       â””â”€â”€ Edit/Delete Actions
â”‚
â”œâ”€â”€ Subjects Page
â”‚   â”œâ”€â”€ Add Subject Form
â”‚   â””â”€â”€ Subjects Table
â”‚       â””â”€â”€ Edit/Delete Actions
â”‚
â”œâ”€â”€ Halls Page
â”‚   â”œâ”€â”€ Add Hall Form
â”‚   â””â”€â”€ Halls Table
â”‚       â””â”€â”€ Edit/Delete Actions
â”‚
â”œâ”€â”€ Departments Page
â”‚   â”œâ”€â”€ Add Department Form
â”‚   â””â”€â”€ Departments Table
â”‚       â””â”€â”€ Edit/Delete Actions
â”‚
â”œâ”€â”€ Students Page
â”‚   â”œâ”€â”€ File Upload Form
â”‚   â””â”€â”€ Students Table
â”‚       â””â”€â”€ Delete Action
â”‚
â”œâ”€â”€ Allocation Page
â”‚   â”œâ”€â”€ Exam Selector
â”‚   â”œâ”€â”€ Status Display
â”‚   â”‚   â”œâ”€â”€ Total Students
â”‚   â”‚   â”œâ”€â”€ Allocated
â”‚   â”‚   â””â”€â”€ Unallocated
â”‚   â”œâ”€â”€ Generate Button
â”‚   â”œâ”€â”€ Clear Button
â”‚   â””â”€â”€ Algorithm Rules Display
â”‚
â””â”€â”€ Seating Page
    â”œâ”€â”€ Exam Selector
    â”œâ”€â”€ Export Buttons
    â”‚   â”œâ”€â”€ Export to Excel
    â”‚   â””â”€â”€ Export to PDF
    â”œâ”€â”€ Student Lookup
    â”‚   â”œâ”€â”€ Search Input
    â”‚   â””â”€â”€ Result Display
    â””â”€â”€ Hall View
        â”œâ”€â”€ Hall Selector
        â””â”€â”€ Seating Table
```

## Technology Stack Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                    â”‚
â”‚                                                          â”‚
â”‚  React 18 + TypeScript                                  â”‚
â”‚  â€¢ JSX Components                                       â”‚
â”‚  â€¢ React Hooks (useState, useEffect)                   â”‚
â”‚  â€¢ React Router DOM (Navigation)                       â”‚
â”‚  â€¢ CSS (Styling)                                       â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ HTTP (Axios)
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPLICATION LAYER                     â”‚
â”‚                                                          â”‚
â”‚  Express.js + TypeScript                                â”‚
â”‚  â€¢ Route Handlers                                       â”‚
â”‚  â€¢ Middleware (Auth, CORS, Multer)                     â”‚
â”‚  â€¢ Business Logic                                       â”‚
â”‚  â€¢ Allocation Algorithm                                 â”‚
â”‚  â€¢ File Processing                                      â”‚
â”‚  â€¢ Export Generation                                    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ SQL (pg)
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER                          â”‚
â”‚                                                          â”‚
â”‚  PostgreSQL                                             â”‚
â”‚  â€¢ 7 Tables with Relationships                          â”‚
â”‚  â€¢ ACID Transactions                                    â”‚
â”‚  â€¢ Foreign Key Constraints                              â”‚
â”‚  â€¢ Unique Constraints                                   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  1. Frontend Security                                    â”‚
â”‚     â€¢ Protected Routes (JWT check)                       â”‚
â”‚     â€¢ Token Storage (localStorage)                       â”‚
â”‚     â€¢ Auto-redirect on auth failure                      â”‚
â”‚                                                          â”‚
â”‚  2. Transport Security                                   â”‚
â”‚     â€¢ HTTPS (production)                                 â”‚
â”‚     â€¢ CORS Configuration                                 â”‚
â”‚                                                          â”‚
â”‚  3. Backend Security                                     â”‚
â”‚     â€¢ JWT Verification Middleware                        â”‚
â”‚     â€¢ Password Hashing (bcrypt)                         â”‚
â”‚     â€¢ Input Validation                                   â”‚
â”‚     â€¢ SQL Injection Prevention (parameterized queries)   â”‚
â”‚                                                          â”‚
â”‚  4. Database Security                                    â”‚
â”‚     â€¢ User Authentication                                â”‚
â”‚     â€¢ Connection String Protection (.env)                â”‚
â”‚     â€¢ Foreign Key Constraints                            â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architecture (Production)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Internet                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTPS
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CDN / Static Hosting                        â”‚
â”‚              (Vercel, Netlify, S3)                      â”‚
â”‚                                                          â”‚
â”‚              Frontend Build (dist/)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTPS API Calls
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Application Server                          â”‚
â”‚              (Heroku, Railway, DigitalOcean)            â”‚
â”‚                                                          â”‚
â”‚              Backend API (Node.js)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ Secure Connection
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Managed Database Service                       â”‚
â”‚           (AWS RDS, ElephantSQL, Heroku Postgres)       â”‚
â”‚                                                          â”‚
â”‚           PostgreSQL Database                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Processing Pipeline

```
CSV/Excel File Upload
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Multer          â”‚
â”‚ Save to disk    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ XLSX Parser     â”‚
â”‚ Read file       â”‚
â”‚ Convert to JSON â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Data Validation â”‚
â”‚ Check columns   â”‚
â”‚ Validate format â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Rows    â”‚
â”‚ For each row:   â”‚
â”‚ â€¢ Map dept      â”‚
â”‚ â€¢ Validate subj â”‚
â”‚ â€¢ Upsert studentâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return Result   â”‚
â”‚ Success count   â”‚
â”‚ Error count     â”‚
â”‚ Error messages  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This visual overview helps understand the complete system architecture, data flow, and component relationships.
